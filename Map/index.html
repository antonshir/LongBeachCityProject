<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Long Beach Map</title>
    <style>
        #map{
            height:700px;
            width:100%;
        }
    </style>
</head>
<body>
    <h1>My Google Map</h1>

    <div id="map"></div>
    <script>
        function initMap(){

            // Map optionss
            var options = {
                zoom:12,
                //center:{lat:42.3601,lng:-71.0589}
                center:{lat:33.7971,lng:-118.1637},
                styles: [
                    {elementType: 'geometry', stylers: [{color: '#242f3e'}]},
                    {elementType: 'labels.text.stroke', stylers: [{color: '#242f3e'}]},
                    {elementType: 'labels.text.fill', stylers: [{color: '#746855'}]},
                    {
                    featureType: 'administrative.locality',
                    elementType: 'labels.text.fill',
                    stylers: [{color: '#d59563'}]
                    },
                    {
                    featureType: 'poi',
                    elementType: 'labels.text.fill',
                    stylers: [{color: '#d59563'}]
                    },
                    {
                    featureType: 'poi.park',
                    elementType: 'geometry',
                    stylers: [{color: '#263c3f'}]
                    },
                    {
                    featureType: 'poi.park',
                    elementType: 'labels.text.fill',
                    stylers: [{color: '#6b9a76'}]
                    },
                    {
                    featureType: 'road',
                    elementType: 'geometry',
                    stylers: [{color: '#38414e'}]
                    },
                    {
                    featureType: 'road',
                    elementType: 'geometry.stroke',
                    stylers: [{color: '#212a37'}]
                    },
                    {
                    featureType: 'road',
                    elementType: 'labels.text.fill',
                    stylers: [{color: '#9ca5b3'}]
                    },
                    {
                    featureType: 'road.highway',
                    elementType: 'geometry',
                    stylers: [{color: '#746855'}]
                    },
                    {
                    featureType: 'road.highway',
                    elementType: 'geometry.stroke',
                    stylers: [{color: '#1f2835'}]
                    },
                    {
                    featureType: 'road.highway',
                    elementType: 'labels.text.fill',
                    stylers: [{color: '#f3d19c'}]
                    },
                    {
                    featureType: 'transit',
                    elementType: 'geometry',
                    stylers: [{color: '#2f3948'}]
                    },
                    {
                    featureType: 'transit.station',
                    elementType: 'labels.text.fill',
                    stylers: [{color: '#d59563'}]
                    },
                    {
                    featureType: 'water',
                    elementType: 'geometry',
                    stylers: [{color: '#17263c'}]
                    },
                    {
                    featureType: 'water',
                    elementType: 'labels.text.fill',
                    stylers: [{color: '#515c6d'}]
                    },
                    {
                    featureType: 'water',
                    elementType: 'labels.text.stroke',
                    stylers: [{color: '#17263c'}]
                    }
                ]
            }


            //New Map
            var map = new
            google.maps.Map(document.getElementById('map'), options);

            // Listen for clock on map

            google.maps.event.addListener(map, 'click', function(event){
                // Add marker
                addMarker({coords:event.latLng});
            });

         //   var src = 'https://sites.google.com/site/longbeachprojectqwer/kml/CITY_OF_LONG_BEACH_CITY_BOUNDARY.kml';

            var ctaLayer = new google.maps.KmlLayer({
                url: 'https://sites.google.com/site/longbeachprojectqwer/kml/City_Of_Long_Beach_City_Boundary.kml',
                map: map
            });

       //     var kmlLayer = new google.maps.KmlLayer(src, {
       //         suppressInfoWindows: true,
       //         preserveViewport: false,
       //         map: map
       //     });

            var lb_boundary = new google.maps.Data();
            var zip_90802 = new google.maps.Data();
            var zip_90803 = new google.maps.Data();
            var zip_90804 = new google.maps.Data();
            var zip_90805 = new google.maps.Data();
            var zip_90806 = new google.maps.Data();
            var zip_90807 = new google.maps.Data();
            var zip_90808 = new google.maps.Data();
            var zip_90810 = new google.maps.Data();
            var zip_90813 = new google.maps.Data();
            var zip_90814 = new google.maps.Data();
            var zip_90815 = new google.maps.Data();
            var zip_90822 = new google.maps.Data();
            var zip_90831 = new google.maps.Data();
          //  var lb_boundary = new google.maps.Data();
            
          //  lb_boundary.loadGeoJson('Long_Beach.json');
            zip_90802.loadGeoJson('zip_90802.json');
            zip_90803.loadGeoJson('zip_90803.json');
            zip_90804.loadGeoJson('zip_90804.json');
            zip_90805.loadGeoJson('zip_90805.json');
            zip_90806.loadGeoJson('zip_90806.json');
            zip_90807.loadGeoJson('zip_90807.json');
            zip_90808.loadGeoJson('zip_90808.json');
            zip_90810.loadGeoJson('zip_90810.json');
            zip_90813.loadGeoJson('zip_90813.json');
            zip_90814.loadGeoJson('zip_90814.json');
            zip_90815.loadGeoJson('zip_90815.json');
            zip_90822.loadGeoJson('zip_90822.json');
            zip_90831.loadGeoJson('zip_90831.json');
            lb_boundary.loadGeoJson('Long_Beach.json');


            lb_boundary.setStyle({
                strokeColor: 'black',
                strokeWeight: 1,
                fillColor: 'gray',
                strokeWeight: 1
            });

            zip_90802.setStyle({
                strokeColor: 'black',
                strokeWeight: 2,
                fillColor: 'green'
            });

            zip_90803.setStyle({
                strokeColor: 'black',
                strokeWeight: 2
            });

            zip_90804.setStyle({
                strokeColor: 'black',
                strokeWeight: 2
            });

            zip_90805.setStyle({
                strokeColor: 'black',
                strokeWeight: 2,
                fillColor: 'burgandy'
            });

            zip_90806.setStyle({
                strokeColor: 'black',
                strokeWeight: 2,
                fillColor: 'red'
            });

            zip_90807.setStyle({
                strokeColor: 'black',
                strokeWeight: 2,
                fillColor: 'dark blue'
            });

            zip_90808.setStyle({
                strokeColor: 'black',
                strokeWeight: 2,
                fillColor: 'white'
            });

            zip_90810.setStyle({
                strokeColor: 'black',
                strokeWeight: 1,
                fillColor: 'blue'
            });

            zip_90813.setStyle({
                strokeColor: 'black',
                strokeWeight: 2,
                fillColor: 'black'
            });

            zip_90814.setStyle({
                strokeColor: 'black',
                strokeWeight: 2,
                fillColor: 'gray'
            });

            zip_90815.setStyle({
                strokeColor: 'black',
                strokeWeight: 2
            });

            zip_90822.setStyle({
                strokeColor: 'black',
                strokeWeight: 2
            });

            zip_90831.setStyle({
                strokeColor: 'black',
                strokeWeight: 2
            });


          //  lb_boundary.setMap(map);
            zip_90802.setMap(map);
            zip_90803.setMap(map);
            zip_90804.setMap(map);
            zip_90805.setMap(map);
            zip_90806.setMap(map);
            zip_90807.setMap(map);
            zip_90808.setMap(map);
            zip_90810.setMap(map);
            zip_90813.setMap(map);
            zip_90814.setMap(map);
            zip_90815.setMap(map);
            zip_90822.setMap(map);
            zip_90831.setMap(map);
          //  lb_boundary.setMap(map);

            // Create an infowindow object to use later
            var infowindow1 = new google.maps.InfoWindow();

            /* Create a "listener" that will wait for the user to click an earthquake point,
            * and then display the infowindow with details about that earthquake.
            */

             
            google.maps.event.addListener(lb_boundary, 'click', function(event) {
                google.maps.event.addListener(zip_90802, 'click', function(event){
                    infowindow1.setContent('city');
                    infowindow1.setPosition(event.latLng);
                    infowindow1.open(map);
                });

    //            infowindow1.setContent('city');
     //           infowindow1.setPosition(event.latLng);
      //          infowindow1.open(map);
            });
            

            google.maps.event.addListener(zip_90802, 'click', function(event) {
                infowindow1.setContent('zip code: 90802');
                infowindow1.setPosition(event.latLng);
                infowindow1.open(map);
            });

            google.maps.event.addListener(zip_90803, 'click', function(event) {
                infowindow1.setContent('zip code: 90803');
                infowindow1.setPosition(event.latLng);
                infowindow1.open(map);
            });

            google.maps.event.addListener(zip_90804, 'click', function(event) {
                infowindow1.setContent('zip code: 90804');
                infowindow1.setPosition(event.latLng);
                infowindow1.open(map);
            });

            google.maps.event.addListener(zip_90805, 'click', function(event) {
                infowindow1.setContent('zip code: 90805');
                infowindow1.setPosition(event.latLng);
                infowindow1.open(map);
            });

            google.maps.event.addListener(zip_90806, 'click', function(event) {
                infowindow1.setContent('zip code: 90806');
                infowindow1.setPosition(event.latLng);
                infowindow1.open(map);
            });

            google.maps.event.addListener(zip_90807, 'click', function(event) {
                infowindow1.setContent('zip code: 90807');
                infowindow1.setPosition(event.latLng);
                infowindow1.open(map);
            });

            google.maps.event.addListener(zip_90808, 'click', function(event) {
                infowindow1.setContent('zip code: 90808');
                infowindow1.setPosition(event.latLng);
                infowindow1.open(map);
            });

            google.maps.event.addListener(zip_90810, 'click', function(event) {
                infowindow1.setContent('zip code: 90810');
                infowindow1.setPosition(event.latLng);
                infowindow1.open(map);
            });

            google.maps.event.addListener(zip_90813, 'click', function(event) {
                infowindow1.setContent('zip code: 90813');
                infowindow1.setPosition(event.latLng);
                infowindow1.open(map);
            });

            google.maps.event.addListener(zip_90814, 'click', function(event) {
                infowindow1.setContent('zip code: 90814');
                infowindow1.setPosition(event.latLng);
                infowindow1.open(map);
            });

            google.maps.event.addListener(zip_90815, 'click', function(event) {
                infowindow1.setContent('zip code: 90815');
                infowindow1.setPosition(event.latLng);
                infowindow1.open(map);
            });

            google.maps.event.addListener(zip_90822, 'click', function(event) {
                infowindow1.setContent('zip code: 90822');
                infowindow1.setPosition(event.latLng);
                infowindow1.open(map);
            });

            google.maps.event.addListener(zip_90831, 'click', function(event) {
                infowindow1.setContent('zip code: 90831');
                infowindow1.setPosition(event.latLng);
                infowindow1.open(map);
            });





            /*
            var infoWind = new google.maps.InfoWindow({
                content: '<h1>Amesbury MA</h1>'
            });
            zip_90802.addListener('click', function(event){
                infoWind.open(map, zip_90802);
            });

            google.maps.event.addListener('click', function(event){
                infoWind.open(map, zip_90802);
            });
            */
      //      var layer = map.data.loadGeoJson('Long_Beach.json').setStyle({
       //         fillColor: 'green'
       //     });
       //     map.data.setStyle({
               // icon: '//example.com/path/to/image.png',
        //        fillColor: 'green'
         //   });

        //    var infoWindo = new google.maps.InfoWindow({
        //        content: '<h1>Amesbury MA</h1>'
        //    });

        //    layer.addListener('click', function(){
        //        infoWindo.open(map, infoWindow);
        //    });


            /*
            // Add marker
            var marker = new google.maps.Marker({
                position:{lat: 42.4668, lng: -70.9495},
                map:map,
                icon:'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png'

            });

            var infoWindow = new google.maps.InfoWindow({
                content:'<h1>Lynn MA</h1>'
            });

            marker.addListener('click', function(){
                infoWindow.open(map, marker);
            });
            */

            // Array of markers
            var markers = [
                {
                    coords:{lat: 42.4668, lng: -70.9495},
                    iconImage:'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png',
                    content:'<h1>Lynn MA</h1>'
                },
                {
                    coords:{lat: 42.8584, lng: -70.9300},
                    content:'<h1>Amesbury MA</h1>'
                },
                {
                    coords:{lat: 42.7762, lng: -71.0773}
                }
            ];

            for(var i = 0; i< markers.length; i++){
                addMarker(markers[i]);
            }

            /*
            addMarker({
                coords:{lat: 42.4668, lng: -70.9495},
                iconImage:'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png',
                content:'<h1>Lynn MA</h1>'

            });
            addMarker({
                coords:{lat: 42.8584, lng: -70.9300},
                content:'<h1>Amesbury MA</h1>'
            });
            addMarker({coords:{lat: 42.7762, lng: -71.0773}});

            */

            // Add marker funstion
            function addMarker(props){
                var marker = new google.maps.Marker({
                position:props.coords,
                map:map,
                //icon:props.iconImage
                });

                // Check for custom icon
                if(props.iconImage){
                    // Set icon image
                    marker.setIcon(props.iconImage);
                }

                // Check content
                if(props.content){
                    var infoWindow = new google.maps.InfoWindow({
                        content: props.content
                    });

                    marker.addListener('click', function(){
                        infoWindow.open(map, marker);
                    });
                }
            }
        }
    
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCgnZngr44c2paPyhr-cx0uRicdYNjn7WI&callback=initMap"
    async defer></script>
    
</body>
</html>